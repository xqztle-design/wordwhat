<!doctype html>
<html lang="th">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>Word What? ‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</title>

<link href="https://fonts.googleapis.com/css2?family=Kanit:wght@300;400;600&family=Fredoka:wght@600&display=swap" rel="stylesheet">

<style>
  :root {
    --bg-body: #f0f7ff;
    --bg-card: #ffffff;
    --primary: #4facfe;
    --primary-dark: #00f2fe;
    --text-main: #2d3436;
    --text-muted: #636e72;
    --success: #00b894;
    --danger: #ff7675;
    --shadow: 0 10px 25px rgba(100, 100, 100, 0.1);
    --radius: 20px;
    --font-main: 'Kanit', sans-serif;
  }

  * { box-sizing: border-box; margin: 0; padding: 0; -webkit-tap-highlight-color: transparent; }
  
  body {
    font-family: var(--font-main);
    background: var(--bg-body);
    background-image: radial-gradient(#dfe9f3 1px, transparent 1px);
    background-size: 20px 20px;
    color: var(--text-main);
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    padding: 16px;
  }

  .container {
    width: 100%;
    max-width: 600px;
    margin: 0 auto;
  }

  /* Card Style */
  .card {
    background: var(--bg-card);
    border-radius: var(--radius);
    padding: 30px;
    box-shadow: var(--shadow);
    text-align: center;
    position: relative;
    overflow: hidden;
    border: 2px solid #fff;
    transition: all 0.3s ease;
  }

  /* Header */
  .logo-area { margin-bottom: 24px; }
  h1 { 
    font-family: 'Fredoka', var(--font-main);
    font-size: 2.2rem; 
    background: linear-gradient(45deg, #4facfe, #00f2fe);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    margin-bottom: 8px;
  }
  .subtitle { color: var(--text-muted); font-size: 1rem; }

  /* Buttons */
  .btn {
    background: linear-gradient(45deg, #4facfe, #00f2fe);
    color: white;
    border: none;
    padding: 14px 28px;
    border-radius: 50px;
    font-size: 1.1rem;
    font-weight: 600;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(79, 172, 254, 0.4);
    transition: transform 0.2s, box-shadow 0.2s;
    font-family: var(--font-main);
    display: inline-block;
    min-width: 140px;
  }
  .btn:active { transform: scale(0.96); }
  .btn.secondary {
    background: #fff;
    color: var(--text-muted);
    box-shadow: inset 0 0 0 2px #dfe6e9;
  }
  .btn.danger {
    background: var(--danger);
    box-shadow: 0 4px 15px rgba(255, 118, 117, 0.4);
  }
  .btn.hint {
    background: #fdcb6e;
    box-shadow: 0 4px 15px rgba(253, 203, 110, 0.4);
    min-width: auto;
    padding: 10px 20px;
    font-size: 0.95rem;
  }
  /* Style for disabled hint button */
  .btn.hint:disabled {
    background: #dfe6e9;
    color: #b2bec3;
    box-shadow: none;
    cursor: not-allowed;
    transform: none;
  }

  /* Grid for Categories */
  .grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
    gap: 16px;
    margin-top: 20px;
  }
  .cat-card {
    background: #f8f9fa;
    border-radius: 16px;
    padding: 20px 10px;
    cursor: pointer;
    transition: transform 0.2s, background 0.2s;
    border: 2px solid transparent;
  }
  .cat-card:hover {
    background: #e3f2fd;
    transform: translateY(-5px);
    border-color: #4facfe;
  }
  .cat-emoji { font-size: 2.5rem; display: block; margin-bottom: 8px; }
  .cat-name { font-weight: 600; color: var(--text-main); }

  /* Game Screen */
  .top-bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    background: #f1f2f6;
    padding: 10px 20px;
    border-radius: 50px;
  }
  .score-badge { font-weight: bold; color: var(--primary); }
  .timer-badge { font-weight: bold; color: var(--danger); display: flex; align-items: center; gap: 5px;}

  .word-display {
    font-size: 2.8rem;
    letter-spacing: 8px;
    font-weight: 600;
    color: var(--text-main);
    margin: 30px 0;
    min-height: 60px;
    font-family: 'Fredoka', var(--font-main);
    text-transform: uppercase;
  }

  .input-area {
    display: flex;
    flex-direction: column;
    gap: 12px;
    max-width: 400px;
    margin: 0 auto;
  }
  input[type="text"] {
    width: 100%;
    padding: 16px;
    border: 2px solid #dfe6e9;
    border-radius: 16px;
    font-size: 1.4rem;
    text-align: center;
    outline: none;
    font-family: var(--font-main);
    transition: border-color 0.3s;
  }
  input[type="text"]:focus { border-color: var(--primary); }
  
  /* Feedback UI */
  .feedback-msg {
    margin-top: 15px;
    padding: 12px;
    border-radius: 12px;
    font-weight: 600;
    display: none;
  }
  .feedback-msg.correct { background: #d4edda; color: #155724; }
  .feedback-msg.wrong { background: #f8d7da; color: #721c24; }

  .action-row {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin-top: 15px;
  }

  /* Animations */
  @keyframes popIn { from { opacity: 0; transform: scale(0.9); } to { opacity: 1; transform: scale(1); } }
  .animate-pop { animation: popIn 0.3s ease-out; }

  @keyframes shake { 0%{transform: translateX(0);} 25%{transform: translateX(-5px);} 75%{transform: translateX(5px);} 100%{transform: translateX(0);} }
  .shake { animation: shake 0.3s; }

  .hidden { display: none !important; }
  .w-100 { width: 100%; }

  @media (max-width: 480px) {
    .card { padding: 20px; }
    .word-display { font-size: 2rem; letter-spacing: 4px; }
    h1 { font-size: 1.8rem; }
    .btn { padding: 12px 20px; font-size: 1rem; }
  }
</style>
</head>
<body>

<div class="container">
  
  <div id="homeScreen" class="card animate-pop">
    <div class="logo-area">
      <div style="font-size: 3rem; margin-bottom: 10px;">ü¶Åüçéüöó</div>
      <h1>Word What?</h1>
      <p class="subtitle">‡πÄ‡∏Å‡∏°‡∏ó‡∏≤‡∏¢‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©</p>
    </div>
    <button class="btn" onclick="showCategories()">‡πÄ‡∏£‡∏¥‡πà‡∏°‡πÄ‡∏•‡πà‡∏ô‡πÄ‡∏Å‡∏°</button>
    <p style="margin-top: 20px; font-size: 0.9rem; color: #b2bec3;">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏™‡∏π‡∏á‡∏™‡∏∏‡∏î: <span id="highScore">0</span></p>
  </div>

  <div id="categoryScreen" class="card hidden animate-pop">
    <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏´‡∏°‡∏ß‡∏î‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå</h2>
    <p class="subtitle">Choose a category</p>
    <div class="grid" id="categoryGrid"></div>
    <div style="margin-top: 20px;">
      <button class="btn secondary" onclick="goHome()">‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
    </div>
  </div>

  <div id="gameScreen" class="card hidden">
    <div class="top-bar">
      <div class="score-badge">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô: <span id="currentScore">0</span></div>
      <div class="timer-badge">‚è∞ <span id="timerDisplay">60</span></div>
    </div>

    <div class="subtitle" style="margin-bottom: 5px;">‡∏´‡∏°‡∏ß‡∏î: <span id="displayCategory">...</span></div>
    
    <div id="wordBox" class="word-display">_ _ _ _ _</div>
    
    <div class="input-area">
      <input type="text" id="guessInput" placeholder="‡∏û‡∏¥‡∏°‡∏û‡πå‡∏Ñ‡∏≥‡∏®‡∏±‡∏û‡∏ó‡πå‡∏†‡∏≤‡∏©‡∏≤‡∏≠‡∏±‡∏á‡∏Å‡∏§‡∏©..." autocomplete="off">
      <button class="btn w-100" id="submitBtn">‡∏™‡πà‡∏á‡∏Ñ‡∏≥‡∏ï‡∏≠‡∏ö</button>
      
      <div class="action-row">
        <button class="btn hint" id="hintBtn" onclick="useHint()">üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ</button>
        <button class="btn secondary" onclick="endGame()">‡∏¢‡∏≠‡∏°‡πÅ‡∏û‡πâ</button>
      </div>
    </div>

    <div id="feedback" class="feedback-msg"></div>
  </div>

  <div id="resultScreen" class="card hidden animate-pop">
    <div style="font-size: 4rem; margin-bottom: 10px;" id="resultEmoji">üéâ</div>
    <h2 id="resultTitle">‡∏à‡∏ö‡πÄ‡∏Å‡∏°!</h2>
    <p class="subtitle" id="resultMsg">You did great!</p>
    
    <div style="background: #f1f2f6; padding: 15px; border-radius: 12px; margin: 20px 0;">
      <p style="font-size: 1.2rem;">‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ</p>
      <h1 style="margin: 0; color: var(--primary);" id="finalScore">0</h1>
    </div>

    <div class="action-row">
      <button class="btn secondary" onclick="goHome()">‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å</button>
      <button class="btn" onclick="restartGame()">‡πÄ‡∏•‡πà‡∏ô‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á</button>
    </div>
  </div>

</div>

<script>
// --- Data: 20 English Words per Category ---
const CATEGORIES = {
  "Animals": {
    emoji: "üê∂",
    words: [
      "Elephant","Horse","Dog","Cat","Rabbit",
      "Bird","Fish","Turtle","Monkey","Frog",
      "Mouse","Lion","Tiger","Giraffe","Pig",
      "Duck","Chicken","Cow","Sheep","Bear"
    ]
  },
  "Food": {
    emoji: "üçî",
    words: [
      "Salad","Noodle","Pizza","Bread","Soup",
      "Steak","Burger","Sandwich","Fries","Ice Cream",
      "Donut","Sushi","Cake","Cookie","Chocolate",
      "Popcorn","Juice","Milk","Egg","Cheese"
    ]
  },
  "Fruits": {
    emoji: "üçé",
    words: [
      "Mango","Banana","Watermelon","Pineapple","Orange",
      "Grape","Apple","Papaya","Lemon","Kiwi",
      "Durian","Coconut","Strawberry","Cherry","Peach",
      "Pear","Avocado","Melon","Berry","Plum"
    ]
  },
  "Objects": {
    emoji: "‚úèÔ∏è",
    words: [
      "Pencil","Eraser","Ruler","Notebook","Bag",
      "Shoe","Sock","Cup","Plate","Spoon",
      "Fork","Comb","Soap","Towel","Pillow",
      "Clock","Scissors","Glasses","Phone","Lamp"
    ]
  },
  "Vehicles": {
    emoji: "üöÄ",
    words: [
      "Car","Bike","Train","Plane","Boat",
      "Van","Bus","Rocket","Helicopter","Motorcycle",
      "Submarine","Balloon","Ambulance","Taxi","Truck",
      "Scooter","Tractor","Ship","Jeep","UFO"
    ]
  }
};

// --- State ---
let state = {
  category: null,
  word: "",
  score: 0,
  timer: 60,
  interval: null,
  revealed: [],
  isPlaying: false
};

// --- DOM Elements ---
const screens = {
  home: document.getElementById('homeScreen'),
  cat: document.getElementById('categoryScreen'),
  game: document.getElementById('gameScreen'),
  result: document.getElementById('resultScreen')
};
const els = {
  catGrid: document.getElementById('categoryGrid'),
  wordBox: document.getElementById('wordBox'),
  input: document.getElementById('guessInput'),
  timer: document.getElementById('timerDisplay'),
  score: document.getElementById('currentScore'),
  finalScore: document.getElementById('finalScore'),
  feedback: document.getElementById('feedback'),
  displayCat: document.getElementById('displayCategory'),
  hintBtn: document.getElementById('hintBtn')
};

// --- Navigation ---
function switchScreen(name) {
  Object.values(screens).forEach(el => el.classList.add('hidden'));
  screens[name].classList.remove('hidden');
}

function goHome() {
  clearInterval(state.interval);
  document.getElementById('highScore').innerText = localStorage.getItem('ww_highscore') || 0;
  switchScreen('home');
}

function showCategories() {
  els.catGrid.innerHTML = '';
  Object.keys(CATEGORIES).forEach(key => {
    const cat = CATEGORIES[key];
    const btn = document.createElement('div');
    btn.className = 'cat-card';
    btn.innerHTML = `<span class="cat-emoji">${cat.emoji}</span><span class="cat-name">${key}</span>`;
    btn.onclick = () => startGame(key);
    els.catGrid.appendChild(btn);
  });
  switchScreen('cat');
}

// --- Game Logic ---
function startGame(categoryKey) {
  state.category = categoryKey;
  state.score = 0;
  state.timer = 60; 
  state.isPlaying = true;
  
  els.score.innerText = state.score;
  els.displayCat.innerText = categoryKey;
  
  nextWord();
  startTimer();
  switchScreen('game');
}

function nextWord() {
  const wordList = CATEGORIES[state.category].words;
  state.word = wordList[Math.floor(Math.random() * wordList.length)];
  state.revealed = new Array(state.word.length).fill(false);
  
  // Reset UI
  els.input.value = '';
  els.input.focus();
  
  // !!! ‡∏£‡∏µ‡πÄ‡∏ã‡πá‡∏ï‡∏õ‡∏∏‡πà‡∏°‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ‡∏ó‡∏∏‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏ó‡∏µ‡πà‡∏Ç‡∏∂‡πâ‡∏ô‡∏Ñ‡∏≥‡πÉ‡∏´‡∏°‡πà !!!
  els.hintBtn.disabled = false;
  els.hintBtn.style.opacity = 1;
  els.hintBtn.innerText = 'üí° ‡∏Ç‡∏≠‡∏Ñ‡∏≥‡πÉ‡∏ö‡πâ'; 

  hideFeedback();
  renderWord();
}

function renderWord() {
  const display = state.word.split('').map((char, i) => {
    if (char === ' ') return '&nbsp;'; 
    return state.revealed[i] ? char : '_';
  }).join(' ');
  els.wordBox.innerHTML = display;
}

function startTimer() {
  clearInterval(state.interval);
  updateTimerUI();
  state.interval = setInterval(() => {
    state.timer--;
    updateTimerUI();
    if (state.timer <= 0) {
      finishGame(false);
    }
  }, 1000);
}

function updateTimerUI() {
  els.timer.innerText = state.timer;
  if(state.timer <= 10) els.timer.style.color = 'red';
  else els.timer.style.color = 'var(--text-main)';
}

function useHint() {
  // Check if unrevealed
  const unrevealedIndices = state.word.split('').map((c, i) => ({c, i}))
    .filter(item => !state.revealed[item.i] && item.c !== ' ');
  
  if (unrevealedIndices.length > 0) {
    const randomItem = unrevealedIndices[Math.floor(Math.random() * unrevealedIndices.length)];
    state.revealed[randomItem.i] = true;
    renderWord();
    els.input.focus();

    // !!! ‡∏õ‡∏¥‡∏î‡∏õ‡∏∏‡πà‡∏°‡∏´‡∏•‡∏±‡∏á‡∏à‡∏≤‡∏Å‡∏Å‡∏î‡πÉ‡∏ä‡πâ 1 ‡∏Ñ‡∏£‡∏±‡πâ‡∏á !!!
    els.hintBtn.disabled = true;
    els.hintBtn.style.opacity = 0.5;
    els.hintBtn.innerText = '‡πÉ‡∏ä‡πâ‡πÅ‡∏•‡πâ‡∏ß';
  }
}

function checkGuess() {
  const guess = els.input.value.trim();
  if (!guess) return;

  // ‡πÄ‡∏õ‡∏£‡∏µ‡∏¢‡∏ö‡πÄ‡∏ó‡∏µ‡∏¢‡∏ö‡πÅ‡∏ö‡∏ö‡πÑ‡∏°‡πà‡∏™‡∏ô‡∏ï‡∏±‡∏ß‡∏û‡∏¥‡∏°‡∏û‡πå‡πÄ‡∏•‡πá‡∏Å/‡πÉ‡∏´‡∏ç‡πà ‡πÅ‡∏•‡∏∞‡∏ï‡∏±‡∏î‡∏ä‡πà‡∏≠‡∏á‡∏ß‡πà‡∏≤‡∏á‡∏≠‡∏≠‡∏Å
  if (guess.replace(/\s+/g,'').toLowerCase() === state.word.replace(/\s+/g,'').toLowerCase()) {
    // Correct
    state.score += 10;
    state.timer += 5; 
    els.score.innerText = state.score;
    showFeedback(true, `Correct! It is "${state.word}"`);
    setTimeout(() => {
      nextWord();
    }, 1000);
  } else {
    // Wrong
    els.input.classList.add('shake');
    showFeedback(false, 'Try again!');
    setTimeout(() => els.input.classList.remove('shake'), 400);
    els.input.value = '';
    els.input.focus();
  }
}

function showFeedback(isCorrect, msg) {
  els.feedback.className = `feedback-msg ${isCorrect ? 'correct' : 'wrong'}`;
  els.feedback.innerText = msg;
  els.feedback.style.display = 'block';
}

function hideFeedback() {
  els.feedback.style.display = 'none';
}

function finishGame(win) {
  clearInterval(state.interval);
  state.isPlaying = false;
  
  const oldHigh = parseInt(localStorage.getItem('ww_highscore') || '0');
  if (state.score > oldHigh) {
    localStorage.setItem('ww_highscore', state.score);
  }

  els.finalScore.innerText = state.score;
  document.getElementById('resultEmoji').innerText = state.score > 0 ? 'üèÜ' : 'üòÖ';
  document.getElementById('resultTitle').innerText = state.score > 0 ? 'Awesome!' : 'Time Up!';
  document.getElementById('resultMsg').innerText = `The answer was "${state.word}"`;
  
  switchScreen('result');
}

function restartGame() {
  startGame(state.category);
}

function endGame() {
  finishGame(false);
}

// --- Event Listeners ---
document.getElementById('submitBtn').addEventListener('click', checkGuess);
els.input.addEventListener('keypress', (e) => {
  if (e.key === 'Enter') checkGuess();
});

// Init
goHome();

</script>
</body>
</html>
